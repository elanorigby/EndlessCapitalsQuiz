{% extends "layout.html" %}

{% block title %}Endless {{ title }} Quiz{% endblock %}

{% block styles %}
    <style>
        body {background-color:{{ bkcolor }}; }
    </style>
{% endblock %}

{% block script %}
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <script>
    $(function() {
        $('#user_answer').keypress(function(e) {
            if (e.which === 13){
                e.preventDefault();

                var user_answer = $('#user_answer').val();
                var correct_answer = '{{ ans }}';
                console.log(user_answer);

                if (user_answer != '' or user_answer != undefined) {
                    if (if user_answer == correct_answer %}{    // maybe can python here?
                        $('#feedback').text("Yessss!!!!!");
                        // $('#next-btn').removeClass('hidden');
                        $('#user_answer').keypress(function(e) {
                            if (e.which === 13){
                                    location.reload();
                            }
                        });

                    } else {
                        $('#feedback').text("Nope.");
                        $('#next-btn').addClass('hidden');
                        $('#user_answer').val('');
                    }
                }
            }
        });
    });

    </script>

{% endblock %}

{% block content %}

    <h1>{{ question }}</h1>


    <form id="answer-form">
        <input type="text" id="user_answer" autocomplete="off" autofocus><br>
        <input class="hidden" type="button" id="submit_btn" name="sub_btn" value="Submit">
    </form>

    <div id='feedback'></div>

    <div id="table_wrapper">
    <table class="centered">
        <tr>
        <td>
            <a class="button" href="">
                <span class="away">Just Tell Me</span>
                <span class="over">{{ ans }}</span>
            </a>
        </td>

        <td>
            <a class="button" href="/">
                <span class="away">Make It Stop</span>
                <span class="over">Take me home</span>
            </a>
        </td>

        </tr>
    </table>
    </div>

{% endblock %}